describe('Vulnerability Management Page', () => {
  beforeEach(() => {
    cy.fixture('users').then((users) => {
      cy.login(users.validUser.email, users.validUser.password);
    });
    cy.visit('/vulnerabilities');
  });

  it('should display vulnerabilities page', () => {
    cy.contains(/Vulnerabilit/i).should('be.visible');
  });

  it('should show vulnerabilities list', () => {
    cy.get('[data-testid="vulnerabilities-list"]').should('exist');
  });

  it('should display CVE information', () => {
    cy.get('[data-testid="cve-info"]').should('exist');
  });

  it('should show severity scores', () => {
    cy.get('[data-testid="severity-score"]').should('exist');
  });

  it('should filter by severity', () => {
    cy.get('[data-testid="severity-filter"]').should('exist');
  });

  it('should show patch status', () => {
    cy.get('[data-testid="patch-status"]').should('exist');
  });
});
